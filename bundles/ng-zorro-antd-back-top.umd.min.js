!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/cdk/bidi"),require("@angular/cdk/platform"),require("@angular/common"),require("@angular/core"),require("ng-zorro-antd/core/animation"),require("ng-zorro-antd/core/config"),require("ng-zorro-antd/core/services"),require("ng-zorro-antd/core/util"),require("rxjs"),require("rxjs/operators"),require("ng-zorro-antd/icon")):"function"==typeof define&&define.amd?define("ng-zorro-antd/back-top",["exports","@angular/cdk/bidi","@angular/cdk/platform","@angular/common","@angular/core","ng-zorro-antd/core/animation","ng-zorro-antd/core/config","ng-zorro-antd/core/services","ng-zorro-antd/core/util","rxjs","rxjs/operators","ng-zorro-antd/icon"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self)["ng-zorro-antd"]=t["ng-zorro-antd"]||{},t["ng-zorro-antd"]["back-top"]={}),t.ng.cdk.bidi,t.ng.cdk.platform,t.ng.common,t.ng.core,t["ng-zorro-antd"].core.animation,t["ng-zorro-antd"].core.config,t["ng-zorro-antd"].core.services,t["ng-zorro-antd"].core.util,t.rxjs,t.rxjs.operators,t["ng-zorro-antd"].icon)}(this,(function(t,e,r,o,n,i,a,c,s,l,p,d){"use strict";function u(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function g(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;var h=function(){function t(t,e,r,o,i,a,c,s){this.doc=t,this.nzConfigService=e,this.scrollSrv=r,this.platform=o,this.cd=i,this.zone=a,this.cdr=c,this.directionality=s,this._nzModuleName="backTop",this.scrollListenerDestroy$=new l.Subject,this.destroy$=new l.Subject,this.target=null,this.visible=!1,this.dir="ltr",this.nzVisibilityHeight=400,this.nzDuration=450,this.nzClick=new n.EventEmitter,this.dir=this.directionality.value}return t.prototype.ngOnInit=function(){var t,e=this;this.registerScrollEvent(),null===(t=this.directionality.change)||void 0===t||t.pipe(p.takeUntil(this.destroy$)).subscribe((function(t){e.dir=t,e.cdr.detectChanges()})),this.dir=this.directionality.value},t.prototype.clickBackTop=function(){this.scrollSrv.scrollTo(this.getTarget(),0,{duration:this.nzDuration}),this.nzClick.emit(!0)},t.prototype.getTarget=function(){return this.target||window},t.prototype.handleScroll=function(){this.visible!==this.scrollSrv.getScroll(this.getTarget())>this.nzVisibilityHeight&&(this.visible=!this.visible,this.cd.detectChanges())},t.prototype.registerScrollEvent=function(){var t=this;this.platform.isBrowser&&(this.scrollListenerDestroy$.next(),this.handleScroll(),this.zone.runOutsideAngular((function(){l.fromEvent(t.getTarget(),"scroll").pipe(p.throttleTime(50),p.takeUntil(t.scrollListenerDestroy$)).subscribe((function(){return t.handleScroll()}))})))},t.prototype.ngOnDestroy=function(){this.scrollListenerDestroy$.next(),this.scrollListenerDestroy$.complete(),this.destroy$.next(),this.destroy$.complete()},t.prototype.ngOnChanges=function(t){t.nzTarget&&(this.target="string"==typeof this.nzTarget?this.doc.querySelector(this.nzTarget):this.nzTarget,this.registerScrollEvent())},t}();h.decorators=[{type:n.Component,args:[{selector:"nz-back-top",exportAs:"nzBackTop",animations:[i.fadeMotion],template:'\n    <div class="ant-back-top" [class.ant-back-top-rtl]="dir === \'rtl\'" (click)="clickBackTop()" @fadeMotion *ngIf="visible">\n      <ng-template #defaultContent>\n        <div class="ant-back-top-content">\n          <div class="ant-back-top-icon">\n            <i nz-icon nzType="vertical-align-top"></i>\n          </div>\n        </div>\n      </ng-template>\n      <ng-template [ngTemplateOutlet]="nzTemplate || defaultContent"></ng-template>\n    </div>\n  ',changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None,preserveWhitespaces:!1}]}],h.ctorParameters=function(){return[{type:void 0,decorators:[{type:n.Inject,args:[o.DOCUMENT]}]},{type:a.NzConfigService},{type:c.NzScrollService},{type:r.Platform},{type:n.ChangeDetectorRef},{type:n.NgZone},{type:n.ChangeDetectorRef},{type:e.Directionality,decorators:[{type:n.Optional}]}]},h.propDecorators={nzTemplate:[{type:n.Input}],nzVisibilityHeight:[{type:n.Input}],nzTarget:[{type:n.Input}],nzDuration:[{type:n.Input}],nzClick:[{type:n.Output}]},u([a.WithConfig(),s.InputNumber(),g("design:type",Number)],h.prototype,"nzVisibilityHeight",void 0),u([s.InputNumber(),g("design:type",Number)],h.prototype,"nzDuration",void 0);var f=function(){};f.decorators=[{type:n.NgModule,args:[{declarations:[h],exports:[h],imports:[e.BidiModule,o.CommonModule,r.PlatformModule,d.NzIconModule]}]}],t.NzBackTopComponent=h,t.NzBackTopModule=f,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-zorro-antd-back-top.umd.min.js.map