{"version":3,"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","this","constructor","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","metadataKey","metadataValue","metadata","__values","o","s","Symbol","iterator","m","next","value","done","__read","n","e","ar","push","error","__spread","concat","SuppressedError","NzTreeNodeCheckboxComponent","nzClick","EventEmitter","onClick","nzDisabled","emit","Component","args","selector","template","changeDetection","ChangeDetectionStrategy","OnPush","preserveWhitespaces","host","class","Input","Output","InputBoolean","NzTreeView","differs","changeDetectorRef","noAnimation","directionality","_this","_super","destroy$","Subject","dir","_dataSourceChanged","nzDirectoryTree","nzBlockNode","dataSource","ngOnInit","_a","change","pipe","takeUntil","subscribe","direction","detectChanges","ngOnDestroy","complete","renderNodeChanges","data","dataDiffer","viewContainer","parentData","CdkTree","IterableDiffers","ChangeDetectorRef","NzNoAnimationDirective","type","Host","Optional","Directionality","NzTreeNodeComponent","elementRef","tree","renderer","cdr","indents","disabled","selected","isLeaf","_elementRef","nativeElement","classList","add","treeControl","isExpandable","disable","updateDisabledClass","enable","select","updateSelectedClass","deselect","setIndents","markForCheck","addClass","removeClass","CdkTreeNode","exportAs","providers","provide","useExisting","ElementRef","Renderer2","NzTreeNodeDefDirective","CdkTreeNodeDef","Directive","NzTreeVirtualScrollNodeOutletDirective","_viewContainerRef","_viewRef","ngOnChanges","changes","shouldRecreateView","viewContainerRef","remove","indexOf","createEmbeddedView","nodeDef","context","mostRecentTreeNode","updateExistingContext","ctxChange","hasContextShapeChanged","prevCtxKeys","keys","previousValue","currCtxKeys","currentValue","currCtxKeys_1","currCtxKeys_1_1","propName","ctx","_b","_c","getParent","nodes","node","getLevel","index","level","preLevel","getNextSibling","_index","nextLevel","ViewContainerRef","BUILD_INDENTS_SCHEDULER","requestAnimationFrame","animationFrameScheduler","asapScheduler","NzTreeNodeIndentLineDirective","treeNode","isLast","preNodeRef","nextNodeRef","currentIndents","buildIndents","checkLast","changeSubscription","merge","_dataChanges","auditTime","checkAdjacent","getIndents","dataNodes","parent","unshift","diffString","map","join","preNode","nextNode","unsubscribe","NzTreeNodeOptionComponent","nzSelected","isExpanded","_node","CdkTreeNodeOutlet","NzTreeNodeOutletDirective","Inject","CDK_TREE_NODE_OUTLET_NODE","NzTreeNodePaddingDirective","apply","_indent","_level","_setLevelInput","indent","_setIndentInput","CdkTreeNodePadding","NzTreeNodeToggleDirective","_recursive","coerceBooleanProperty","_treeNode","CdkTreeNodeToggle","NzTreeViewComponent","_afterViewInit","ngAfterViewInit","Promise","resolve","then","encapsulation","ViewEncapsulation","None","animations","treeCollapseMotion","ViewChild","static","NzTreeVirtualScrollViewComponent","itemSize","nzNodeWidth","nzItemSize","nzMinBufferPx","DEFAULT_SIZE","nzMaxBufferPx","bind","createNode","nodeData","_getNodeDef","CdkTreeNodeOutletContext","warnDeprecation","CdkVirtualScrollViewport","treeWithControlComponents","NzTreeNodeToggleRotateIconDirective","NzTreeNodeToggleActiveIconDirective","NzTreeNodeNoopToggleDirective","NzTreeNodeIndentsComponent","NgModule","imports","BidiModule","CommonModule","NzNoAnimationModule","ScrollingModule","declarations","exports","NzTreeFlattener","transformFunction","getChildren","flattenNode","resultNodes","parentMap","flatNode","childrenNodes","isArray","flattenChildren","take","children","forEach","child","childParentMap","slice","flattenNodes","structuredData","expandFlattenedNodes","results","currentExpand","expand","NzTreeFlatDataSource","_treeControl","_treeFlattener","initialData","_flattenedData","BehaviorSubject","_expandedData","_data","flatNodes","setData","getData","getValue","connect","collectionViewer","viewChange","expansionModel","changed","disconnect","DataSource"],"sources":["../../node_modules/tslib/tslib.es6.mjs","../../components/tree-view/checkbox.ts","../../components/tree-view/tree.ts","../../components/tree-view/node.ts","../../components/tree-view/utils.ts","../../components/tree-view/indent.ts","../../components/tree-view/option.ts","../../components/tree-view/outlet.ts","../../components/tree-view/padding.ts","../../components/tree-view/toggle.ts","../../components/tree-view/tree-view.ts","../../components/tree-view/tree-virtual-scroll-view.ts","../../components/tree-view/tree-view.module.ts","../../components/tree-view/data-source.ts"],"sourcesContent":["/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\n\nimport { BooleanInput } from 'ng-zorro-antd/core/types';\nimport { InputBoolean } from 'ng-zorro-antd/core/util';\n\n@Component({\n  selector: 'nz-tree-node-checkbox:not([builtin])',\n  template: `\n    <span class=\"ant-tree-checkbox-inner\"></span>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  preserveWhitespaces: false,\n  host: {\n    class: 'ant-tree-checkbox',\n    '[class.ant-tree-checkbox-checked]': `nzChecked`,\n    '[class.ant-tree-checkbox-indeterminate]': `nzIndeterminate`,\n    '[class.ant-tree-checkbox-disabled]': `nzDisabled`,\n    '(click)': 'onClick($event)'\n  }\n})\nexport class NzTreeNodeCheckboxComponent {\n  static ngAcceptInputType_nzDisabled: BooleanInput;\n\n  @Input() nzChecked?: boolean;\n  @Input() nzIndeterminate?: boolean;\n  @Input() @InputBoolean() nzDisabled?: boolean;\n  @Output() readonly nzClick = new EventEmitter<MouseEvent>();\n\n  onClick(e: MouseEvent): void {\n    if (!this.nzDisabled) {\n      this.nzClick.emit(e);\n    }\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Direction, Directionality } from '@angular/cdk/bidi';\nimport { DataSource } from '@angular/cdk/collections';\nimport { CdkTree, TreeControl } from '@angular/cdk/tree';\nimport {\n  ChangeDetectorRef,\n  Component,\n  Host,\n  Input,\n  IterableDiffer,\n  IterableDiffers,\n  OnDestroy,\n  OnInit,\n  Optional,\n  ViewContainerRef\n} from '@angular/core';\nimport { NzNoAnimationDirective } from 'ng-zorro-antd/core/no-animation';\n\nimport { Observable, Subject } from 'rxjs';\n\nimport { BooleanInput, NzSafeAny } from 'ng-zorro-antd/core/types';\nimport { InputBoolean } from 'ng-zorro-antd/core/util';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({ template: '' })\n// tslint:disable-next-line: component-class-suffix\nexport class NzTreeView<T> extends CdkTree<T> implements OnInit, OnDestroy {\n  static ngAcceptInputType_nzDirectoryTree: BooleanInput;\n  static ngAcceptInputType_nzBlockNode: BooleanInput;\n\n  private destroy$ = new Subject();\n  dir: Direction = 'ltr';\n  _dataSourceChanged = new Subject<void>();\n  @Input('nzTreeControl') treeControl!: TreeControl<T, NzSafeAny>;\n  @Input('nzDataSource')\n  get dataSource(): DataSource<T> | Observable<T[]> | T[] {\n    return super.dataSource;\n  }\n  set dataSource(dataSource: DataSource<T> | Observable<T[]> | T[]) {\n    super.dataSource = dataSource;\n  }\n  @Input() @InputBoolean() nzDirectoryTree = false;\n  @Input() @InputBoolean() nzBlockNode = false;\n\n  constructor(\n    protected differs: IterableDiffers,\n    protected changeDetectorRef: ChangeDetectorRef,\n    @Host() @Optional() public noAnimation?: NzNoAnimationDirective,\n    @Optional() private directionality?: Directionality\n  ) {\n    super(differs, changeDetectorRef);\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n\n    if (this.directionality) {\n      this.dir = this.directionality.value;\n      this.directionality.change?.pipe(takeUntil(this.destroy$)).subscribe((direction: Direction) => {\n        this.dir = direction;\n        this.changeDetectorRef.detectChanges();\n      });\n    }\n  }\n\n  ngOnDestroy(): void {\n    super.ngOnDestroy();\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  renderNodeChanges(data: T[] | ReadonlyArray<T>, dataDiffer?: IterableDiffer<T>, viewContainer?: ViewContainerRef, parentData?: T): void {\n    super.renderNodeChanges(data, dataDiffer, viewContainer, parentData);\n    this._dataSourceChanged.next();\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { CdkTreeNode, CdkTreeNodeDef, CdkTreeNodeOutletContext } from '@angular/cdk/tree';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Directive,\n  ElementRef,\n  EmbeddedViewRef,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Renderer2,\n  SimpleChange,\n  SimpleChanges,\n  ViewContainerRef\n} from '@angular/core';\n\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\n\nimport { NzTreeView } from './tree';\n\nexport interface NzTreeVirtualNodeData<T> {\n  data: T;\n  context: CdkTreeNodeOutletContext<T>;\n  nodeDef: CdkTreeNodeDef<T>;\n}\n\n@Component({\n  selector: 'nz-tree-node:not([builtin])',\n  exportAs: 'nzTreeNode',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [{ provide: CdkTreeNode, useExisting: NzTreeNodeComponent }],\n  template: `\n    <nz-tree-node-indents [indents]=\"indents\" *ngIf=\"indents.length\"></nz-tree-node-indents>\n    <ng-content select=\"nz-tree-node-toggle, [nz-tree-node-toggle]\"></ng-content>\n    <nz-tree-node-toggle class=\"nz-tree-leaf-line-icon\" *ngIf=\"indents.length && isLeaf\" nzTreeNodeNoopToggle>\n      <span class=\"ant-tree-switcher-leaf-line\"></span>\n    </nz-tree-node-toggle>\n    <ng-content select=\"nz-tree-node-checkbox\"></ng-content>\n    <ng-content select=\"nz-tree-node-option\"></ng-content>\n    <ng-content></ng-content>\n  `,\n  host: {\n    '[class.ant-tree-treenode-switcher-open]': 'isExpanded',\n    '[class.ant-tree-treenode-switcher-close]': '!isExpanded'\n  }\n})\nexport class NzTreeNodeComponent<T> extends CdkTreeNode<T> implements OnDestroy, OnInit {\n  indents: boolean[] = [];\n  disabled = false;\n  selected = false;\n  isLeaf = false;\n\n  constructor(\n    protected elementRef: ElementRef<HTMLElement>,\n    protected tree: NzTreeView<T>,\n    private renderer: Renderer2,\n    private cdr: ChangeDetectorRef\n  ) {\n    super(elementRef, tree);\n    this._elementRef.nativeElement.classList.add('ant-tree-treenode');\n  }\n\n  ngOnInit(): void {\n    this.isLeaf = !this.tree.treeControl.isExpandable(this.data);\n  }\n\n  disable(): void {\n    this.disabled = true;\n    this.updateDisabledClass();\n  }\n\n  enable(): void {\n    this.disabled = false;\n    this.updateDisabledClass();\n  }\n\n  select(): void {\n    this.selected = true;\n    this.updateSelectedClass();\n  }\n\n  deselect(): void {\n    this.selected = false;\n    this.updateSelectedClass();\n  }\n\n  setIndents(indents: boolean[]): void {\n    this.indents = indents;\n    this.cdr.markForCheck();\n  }\n\n  private updateSelectedClass(): void {\n    if (this.selected) {\n      this.renderer.addClass(this.elementRef.nativeElement, 'ant-tree-treenode-selected');\n    } else {\n      this.renderer.removeClass(this.elementRef.nativeElement, 'ant-tree-treenode-selected');\n    }\n  }\n\n  private updateDisabledClass(): void {\n    if (this.disabled) {\n      this.renderer.addClass(this.elementRef.nativeElement, 'ant-tree-treenode-disabled');\n    } else {\n      this.renderer.removeClass(this.elementRef.nativeElement, 'ant-tree-treenode-disabled');\n    }\n  }\n}\n\n@Directive({\n  selector: '[nzTreeNodeDef]',\n  providers: [{ provide: CdkTreeNodeDef, useExisting: NzTreeNodeDefDirective }]\n})\nexport class NzTreeNodeDefDirective<T> extends CdkTreeNodeDef<T> {\n  @Input('nzTreeNodeDefWhen') when!: (index: number, nodeData: T) => boolean;\n}\n\n@Directive({\n  selector: '[nzTreeVirtualScrollNodeOutlet]'\n})\nexport class NzTreeVirtualScrollNodeOutletDirective<T> implements OnChanges {\n  private _viewRef: EmbeddedViewRef<NzSafeAny> | null = null;\n  @Input() data!: NzTreeVirtualNodeData<T>;\n\n  constructor(private _viewContainerRef: ViewContainerRef) {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    const recreateView = this.shouldRecreateView(changes);\n    if (recreateView) {\n      const viewContainerRef = this._viewContainerRef;\n\n      if (this._viewRef) {\n        viewContainerRef.remove(viewContainerRef.indexOf(this._viewRef));\n      }\n\n      this._viewRef = this.data ? viewContainerRef.createEmbeddedView(this.data.nodeDef.template, this.data.context) : null;\n\n      if (CdkTreeNode.mostRecentTreeNode && this._viewRef) {\n        CdkTreeNode.mostRecentTreeNode.data = this.data.data;\n      }\n    } else if (this._viewRef && this.data.context) {\n      this.updateExistingContext(this.data.context);\n    }\n  }\n\n  private shouldRecreateView(changes: SimpleChanges): boolean {\n    const ctxChange = changes.data;\n    return !!changes.data || (ctxChange && this.hasContextShapeChanged(ctxChange));\n  }\n\n  private hasContextShapeChanged(ctxChange: SimpleChange): boolean {\n    const prevCtxKeys = Object.keys(ctxChange.previousValue || {});\n    const currCtxKeys = Object.keys(ctxChange.currentValue || {});\n\n    if (prevCtxKeys.length === currCtxKeys.length) {\n      for (const propName of currCtxKeys) {\n        if (prevCtxKeys.indexOf(propName) === -1) {\n          return true;\n        }\n      }\n      return false;\n    }\n    return true;\n  }\n\n  private updateExistingContext(ctx: NzSafeAny): void {\n    for (const propName of Object.keys(ctx)) {\n      this._viewRef!.context[propName] = (this.data.context as NzSafeAny)[propName];\n    }\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nexport function getParent<T>(nodes: T[], node: T, getLevel: (dataNode: T) => number): T | null {\n  let index = nodes.indexOf(node);\n  if (index < 0) {\n    return null;\n  }\n  const level = getLevel(node);\n  for (index--; index >= 0; index--) {\n    const preLevel = getLevel(nodes[index]);\n    if (preLevel + 1 === level) {\n      return nodes[index];\n    }\n    if (preLevel + 1 < level) {\n      return null;\n    }\n  }\n  return null;\n}\n\nexport function getNextSibling<T>(nodes: T[], node: T, getLevel: (dataNode: T) => number, _index?: number): T | null {\n  let index = typeof _index !== 'undefined' ? _index : nodes.indexOf(node);\n  if (index < 0) {\n    return null;\n  }\n  const level = getLevel(node);\n\n  for (index++; index < nodes.length; index++) {\n    const nextLevel = getLevel(nodes[index]);\n    if (nextLevel < level) {\n      return null;\n    }\n    if (nextLevel === level) {\n      return nodes[index];\n    }\n  }\n  return null;\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, Directive, Input, OnDestroy } from '@angular/core';\nimport { animationFrameScheduler, asapScheduler, merge, Subscription } from 'rxjs';\nimport { auditTime } from 'rxjs/operators';\nimport { NzTreeNodeComponent } from './node';\nimport { NzTreeView } from './tree';\n\nimport { getNextSibling, getParent } from './utils';\n\n/**\n * [true, false, false, true] => 1001\n */\nfunction booleanArrayToString(arr: boolean[]): string {\n  return arr.map(i => (i ? 1 : 0)).join('');\n}\n\nconst BUILD_INDENTS_SCHEDULER = typeof requestAnimationFrame !== 'undefined' ? animationFrameScheduler : asapScheduler;\n\n@Component({\n  selector: 'nz-tree-node-indents',\n  template: `\n    <span class=\"ant-tree-indent-unit\" [class.ant-tree-indent-unit-end]=\"!isEnd\" *ngFor=\"let isEnd of indents\"></span>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    class: 'ant-tree-indent'\n  }\n})\nexport class NzTreeNodeIndentsComponent {\n  @Input() indents: boolean[] = [];\n}\n\n@Directive({\n  selector: 'nz-tree-node[nzTreeNodeIndentLine]',\n  host: {\n    class: 'ant-tree-show-line',\n    '[class.ant-tree-treenode-leaf-last]': 'isLast && isLeaf'\n  }\n})\nexport class NzTreeNodeIndentLineDirective<T> implements OnDestroy {\n  isLast: boolean | 'unset' = 'unset';\n  isLeaf = false;\n  private preNodeRef: T | null = null;\n  private nextNodeRef: T | null = null;\n  private currentIndents: string = '';\n  private changeSubscription: Subscription;\n\n  constructor(private treeNode: NzTreeNodeComponent<T>, private tree: NzTreeView<T>, private cdr: ChangeDetectorRef) {\n    this.buildIndents();\n    this.checkLast();\n\n    /**\n     * The dependent data (TreeControl.dataNodes) can be set after node instantiation,\n     * and setting the indents can cause frame rate loss if it is set too often.\n     */\n    this.changeSubscription = merge(this.treeNode._dataChanges, tree._dataSourceChanged)\n      .pipe(auditTime(0, BUILD_INDENTS_SCHEDULER))\n      .subscribe(() => {\n        this.buildIndents();\n        this.checkAdjacent();\n        this.cdr.markForCheck();\n      });\n  }\n\n  private getIndents(): boolean[] {\n    const indents = [];\n    const nodes = this.tree.treeControl.dataNodes;\n    const getLevel = this.tree.treeControl.getLevel;\n    let parent = getParent(nodes, this.treeNode.data, getLevel);\n    while (parent) {\n      const parentNextSibling = getNextSibling(nodes, parent, getLevel);\n      if (parentNextSibling) {\n        indents.unshift(true);\n      } else {\n        indents.unshift(false);\n      }\n      parent = getParent(nodes, parent, getLevel);\n    }\n    return indents;\n  }\n\n  private buildIndents(): void {\n    if (this.treeNode.data) {\n      const indents = this.getIndents();\n      const diffString = booleanArrayToString(indents);\n      if (diffString !== this.currentIndents) {\n        this.treeNode.setIndents(this.getIndents());\n        this.currentIndents = diffString;\n      }\n    }\n  }\n\n  /**\n   * We need to add an class name for the last child node,\n   * this result can also be affected when the adjacent nodes are changed.\n   */\n  private checkAdjacent(): void {\n    const nodes = this.tree.treeControl.dataNodes;\n    const index = nodes.indexOf(this.treeNode.data);\n    const preNode = nodes[index - 1] || null;\n    const nextNode = nodes[index + 1] || null;\n    if (this.nextNodeRef !== nextNode || this.preNodeRef !== preNode) {\n      this.checkLast(index);\n    }\n    this.preNodeRef = preNode;\n    this.nextNodeRef = nextNode;\n  }\n\n  private checkLast(index?: number): void {\n    const nodes = this.tree.treeControl.dataNodes;\n    this.isLeaf = this.treeNode.isLeaf;\n    this.isLast = !getNextSibling(nodes, this.treeNode.data, this.tree.treeControl.getLevel, index);\n  }\n\n  ngOnDestroy(): void {\n    this.preNodeRef = null;\n    this.nextNodeRef = null;\n    this.changeSubscription.unsubscribe();\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ChangeDetectionStrategy, Component, EventEmitter, Input, OnChanges, Output, SimpleChanges } from '@angular/core';\nimport { BooleanInput } from 'ng-zorro-antd/core/types';\nimport { InputBoolean } from 'ng-zorro-antd/core/util';\n\nimport { NzTreeNodeComponent } from './node';\n\n@Component({\n  selector: 'nz-tree-node-option',\n  template: `\n    <span class=\"ant-tree-title\"><ng-content></ng-content></span>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    class: 'ant-tree-node-content-wrapper',\n    '[class.ant-tree-node-content-wrapper-open]': 'isExpanded',\n    '[class.ant-tree-node-selected]': 'nzSelected',\n    '(click)': 'onClick($event)'\n  }\n})\nexport class NzTreeNodeOptionComponent<T> implements OnChanges {\n  static ngAcceptInputType_nzSelected: BooleanInput;\n  static ngAcceptInputType_nzDisabled: BooleanInput;\n\n  @Input() @InputBoolean() nzSelected = false;\n  @Input() @InputBoolean() nzDisabled = false;\n  @Output() readonly nzClick = new EventEmitter<MouseEvent>();\n\n  constructor(private treeNode: NzTreeNodeComponent<T>) {}\n\n  get isExpanded(): boolean {\n    return this.treeNode.isExpanded;\n  }\n\n  onClick(e: MouseEvent): void {\n    if (!this.nzDisabled) {\n      this.nzClick.emit(e);\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    const { nzDisabled, nzSelected } = changes;\n    if (nzDisabled) {\n      if (nzDisabled.currentValue) {\n        this.treeNode.disable();\n      } else {\n        this.treeNode.enable();\n      }\n    }\n\n    if (nzSelected) {\n      if (nzSelected.currentValue) {\n        this.treeNode.select();\n      } else {\n        this.treeNode.deselect();\n      }\n    }\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { CdkTreeNodeOutlet, CDK_TREE_NODE_OUTLET_NODE } from '@angular/cdk/tree';\nimport { Directive, Inject, Optional, ViewContainerRef } from '@angular/core';\n\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\n\n@Directive({\n  selector: '[nzTreeNodeOutlet]',\n  providers: [\n    {\n      provide: CdkTreeNodeOutlet,\n      useExisting: NzTreeNodeOutletDirective\n    }\n  ]\n})\nexport class NzTreeNodeOutletDirective implements CdkTreeNodeOutlet {\n  constructor(public viewContainer: ViewContainerRef, @Inject(CDK_TREE_NODE_OUTLET_NODE) @Optional() public _node?: NzSafeAny) {}\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { CdkTreeNodePadding } from '@angular/cdk/tree';\nimport { Directive, Input } from '@angular/core';\n\n@Directive({\n  selector: '[nzTreeNodePadding]',\n  providers: [{ provide: CdkTreeNodePadding, useExisting: NzTreeNodePaddingDirective }]\n})\nexport class NzTreeNodePaddingDirective<T> extends CdkTreeNodePadding<T> {\n  _indent = 24;\n\n  @Input('nzTreeNodePadding')\n  get level(): number {\n    return this._level;\n  }\n  set level(value: number) {\n    this._setLevelInput(value);\n  }\n\n  @Input('nzTreeNodePaddingIndent')\n  get indent(): number | string {\n    return this._indent;\n  }\n  set indent(indent: number | string) {\n    this._setIndentInput(indent);\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { CdkTreeNodeToggle } from '@angular/cdk/tree';\nimport { Directive, Input } from '@angular/core';\nimport { BooleanInput } from 'ng-zorro-antd/core/types';\n\n@Directive({\n  selector: 'nz-tree-node-toggle[nzTreeNodeNoopToggle], [nzTreeNodeNoopToggle]',\n  host: {\n    class: 'ant-tree-switcher ant-tree-switcher-noop'\n  }\n})\nexport class NzTreeNodeNoopToggleDirective {}\n\n@Directive({\n  selector: 'nz-tree-node-toggle:not([nzTreeNodeNoopToggle]), [nzTreeNodeToggle]',\n  providers: [{ provide: CdkTreeNodeToggle, useExisting: NzTreeNodeToggleDirective }],\n  host: {\n    class: 'ant-tree-switcher',\n    '[class.ant-tree-switcher_open]': 'isExpanded',\n    '[class.ant-tree-switcher_close]': '!isExpanded'\n  }\n})\nexport class NzTreeNodeToggleDirective<T> extends CdkTreeNodeToggle<T> {\n  static ngAcceptInputType_recursive: BooleanInput;\n  @Input('nzTreeNodeToggleRecursive')\n  get recursive(): boolean {\n    return this._recursive;\n  }\n  set recursive(value: boolean) {\n    this._recursive = coerceBooleanProperty(value);\n  }\n\n  get isExpanded(): boolean {\n    return this._treeNode.isExpanded;\n  }\n}\n\n@Directive({\n  selector: '[nz-icon][nzTreeNodeToggleRotateIcon]',\n  host: {\n    class: 'ant-tree-switcher-icon'\n  }\n})\nexport class NzTreeNodeToggleRotateIconDirective {}\n\n@Directive({\n  selector: '[nz-icon][nzTreeNodeToggleActiveIcon]',\n  host: {\n    class: 'ant-tree-switcher-loading-icon'\n  }\n})\nexport class NzTreeNodeToggleActiveIconDirective {}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { CdkTree } from '@angular/cdk/tree';\nimport { AfterViewInit, ChangeDetectionStrategy, Component, ViewChild, ViewEncapsulation } from '@angular/core';\n\nimport { treeCollapseMotion } from 'ng-zorro-antd/core/animation';\n\nimport { NzTreeNodeOutletDirective } from './outlet';\nimport { NzTreeView } from './tree';\n\n@Component({\n  selector: 'nz-tree-view',\n  exportAs: 'nzTreeView',\n  template: `\n    <div class=\"ant-tree-list-holder\">\n      <div\n        [@.disabled]=\"!_afterViewInit || noAnimation?.nzNoAnimation\"\n        [@treeCollapseMotion]=\"_nodeOutlet.viewContainer.length\"\n        class=\"ant-tree-list-holder-inner\"\n      >\n        <ng-container nzTreeNodeOutlet></ng-container>\n      </div>\n    </div>\n  `,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    { provide: CdkTree, useExisting: NzTreeViewComponent },\n    { provide: NzTreeView, useExisting: NzTreeViewComponent }\n  ],\n  host: {\n    class: 'ant-tree',\n    '[class.ant-tree-block-node]': 'nzDirectoryTree || nzBlockNode',\n    '[class.ant-tree-directory]': 'nzDirectoryTree',\n    '[class.ant-tree-rtl]': `dir === 'rtl'`\n  },\n  animations: [treeCollapseMotion]\n})\nexport class NzTreeViewComponent<T> extends NzTreeView<T> implements AfterViewInit {\n  @ViewChild(NzTreeNodeOutletDirective, { static: true }) nodeOutlet!: NzTreeNodeOutletDirective;\n  _afterViewInit = false;\n  ngAfterViewInit(): void {\n    Promise.resolve().then(() => {\n      this._afterViewInit = true;\n      this.changeDetectorRef.markForCheck();\n    });\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { CdkVirtualScrollViewport } from '@angular/cdk/scrolling';\nimport { CdkTree, CdkTreeNodeOutletContext } from '@angular/cdk/tree';\nimport { ChangeDetectionStrategy, Component, Input, OnChanges, SimpleChanges, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { warnDeprecation } from 'ng-zorro-antd/core/logger';\n\nimport { NzTreeVirtualNodeData } from './node';\nimport { NzTreeNodeOutletDirective } from './outlet';\n\nimport { NzTreeView } from './tree';\n\nconst DEFAULT_SIZE = 28;\n\n@Component({\n  selector: 'nz-tree-virtual-scroll-view',\n  exportAs: 'nzTreeVirtualScrollView',\n  template: `\n    <div class=\"ant-tree-list\">\n      <cdk-virtual-scroll-viewport\n        class=\"ant-tree-list-holder\"\n        [itemSize]=\"itemSize\"\n        [minBufferPx]=\"nzMinBufferPx\"\n        [maxBufferPx]=\"nzMaxBufferPx\"\n      >\n        <ng-container *cdkVirtualFor=\"let item of nodes; let i = index\">\n          <ng-template nzTreeVirtualScrollNodeOutlet [data]=\"item\"></ng-template>\n        </ng-container>\n      </cdk-virtual-scroll-viewport>\n    </div>\n    <ng-container nzTreeNodeOutlet></ng-container>\n  `,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    { provide: NzTreeView, useExisting: NzTreeVirtualScrollViewComponent },\n    { provide: CdkTree, useExisting: NzTreeVirtualScrollViewComponent }\n  ],\n  host: {\n    class: 'ant-tree',\n    '[class.ant-tree-block-node]': 'nzDirectoryTree || nzBlockNode',\n    '[class.ant-tree-directory]': 'nzDirectoryTree',\n    '[class.ant-tree-rtl]': `dir === 'rtl'`\n  }\n})\nexport class NzTreeVirtualScrollViewComponent<T> extends NzTreeView<T> implements OnChanges {\n  itemSize = DEFAULT_SIZE;\n\n  @ViewChild(NzTreeNodeOutletDirective, { static: true }) readonly nodeOutlet!: NzTreeNodeOutletDirective;\n  @ViewChild(CdkVirtualScrollViewport, { static: true }) readonly virtualScrollViewport!: CdkVirtualScrollViewport;\n\n  /**\n   * @deprecated use `nzItemSize` instead\n   * @breaking-change 12.0.0\n   */\n  @Input() nzNodeWidth = DEFAULT_SIZE;\n\n  @Input() nzItemSize = DEFAULT_SIZE;\n  @Input() nzMinBufferPx = DEFAULT_SIZE * 5;\n  @Input() nzMaxBufferPx = DEFAULT_SIZE * 10;\n\n  nodes: Array<NzTreeVirtualNodeData<T>> = [];\n\n  renderNodeChanges(data: T[] | ReadonlyArray<T>): void {\n    this.nodes = new Array(...data).map((n, i) => this.createNode(n, i));\n  }\n\n  private createNode(nodeData: T, index: number): NzTreeVirtualNodeData<T> {\n    const node = this._getNodeDef(nodeData, index);\n    const context = new CdkTreeNodeOutletContext<T>(nodeData);\n    if (this.treeControl.getLevel) {\n      context.level = this.treeControl.getLevel(nodeData);\n    } else {\n      context.level = 0;\n    }\n    return {\n      data: nodeData,\n      context,\n      nodeDef: node\n    };\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    const { nzNodeWidth, nzItemSize } = changes;\n    if (nzNodeWidth) {\n      warnDeprecation('`nzNodeWidth` in nz-tree-virtual-scroll-view will be removed in 12.0.0, please use `nzItemSize` instead.');\n      this.itemSize = nzNodeWidth.currentValue;\n    }\n    if (nzItemSize) {\n      this.itemSize = nzItemSize.currentValue;\n    }\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { BidiModule } from '@angular/cdk/bidi';\nimport { ScrollingModule } from '@angular/cdk/scrolling';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NzNoAnimationModule } from 'ng-zorro-antd/core/no-animation';\n\nimport { NzTreeNodeCheckboxComponent } from './checkbox';\nimport { NzTreeNodeIndentLineDirective, NzTreeNodeIndentsComponent } from './indent';\nimport { NzTreeNodeComponent, NzTreeNodeDefDirective, NzTreeVirtualScrollNodeOutletDirective } from './node';\nimport { NzTreeNodeOptionComponent } from './option';\nimport { NzTreeNodeOutletDirective } from './outlet';\nimport { NzTreeNodePaddingDirective } from './padding';\nimport {\n  NzTreeNodeNoopToggleDirective,\n  NzTreeNodeToggleActiveIconDirective,\n  NzTreeNodeToggleDirective,\n  NzTreeNodeToggleRotateIconDirective\n} from './toggle';\nimport { NzTreeView } from './tree';\nimport { NzTreeViewComponent } from './tree-view';\nimport { NzTreeVirtualScrollViewComponent } from './tree-virtual-scroll-view';\n\nconst treeWithControlComponents = [\n  NzTreeView,\n  NzTreeNodeOutletDirective,\n  NzTreeViewComponent,\n  NzTreeNodeDefDirective,\n  NzTreeNodeComponent,\n  NzTreeNodeToggleDirective,\n  NzTreeNodePaddingDirective,\n  NzTreeNodeToggleRotateIconDirective,\n  NzTreeNodeToggleActiveIconDirective,\n  NzTreeNodeOptionComponent,\n  NzTreeNodeNoopToggleDirective,\n  NzTreeNodeCheckboxComponent,\n  NzTreeNodeIndentsComponent,\n  NzTreeVirtualScrollViewComponent,\n  NzTreeVirtualScrollNodeOutletDirective,\n  NzTreeNodeIndentLineDirective\n];\n\n@NgModule({\n  imports: [BidiModule, CommonModule, NzNoAnimationModule, ScrollingModule],\n  declarations: [treeWithControlComponents],\n  exports: [treeWithControlComponents]\n})\nexport class NzTreeViewModule {}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { CollectionViewer, DataSource } from '@angular/cdk/collections';\nimport { FlatTreeControl, TreeControl } from '@angular/cdk/tree';\nimport { BehaviorSubject, merge, Observable } from 'rxjs';\nimport { map, take } from 'rxjs/operators';\n\nexport class NzTreeFlattener<T, F, K = F> {\n  constructor(\n    public transformFunction: (node: T, level: number) => F,\n    public getLevel: (node: F) => number,\n    public isExpandable: (node: F) => boolean,\n    public getChildren: (node: T) => Observable<T[]> | T[] | undefined | null\n  ) {}\n\n  private flattenNode(node: T, level: number, resultNodes: F[], parentMap: boolean[]): F[] {\n    const flatNode = this.transformFunction(node, level);\n    resultNodes.push(flatNode);\n\n    if (this.isExpandable(flatNode)) {\n      const childrenNodes = this.getChildren(node);\n      if (childrenNodes) {\n        if (Array.isArray(childrenNodes)) {\n          this.flattenChildren(childrenNodes, level, resultNodes, parentMap);\n        } else {\n          childrenNodes.pipe(take(1)).subscribe(children => {\n            this.flattenChildren(children, level, resultNodes, parentMap);\n          });\n        }\n      }\n    }\n    return resultNodes;\n  }\n\n  private flattenChildren(children: T[], level: number, resultNodes: F[], parentMap: boolean[]): void {\n    children.forEach((child, index) => {\n      const childParentMap: boolean[] = parentMap.slice();\n      childParentMap.push(index !== children.length - 1);\n      this.flattenNode(child, level + 1, resultNodes, childParentMap);\n    });\n  }\n\n  /**\n   * Flatten a list of node type T to flattened version of node F.\n   * Please note that type T may be nested, and the length of `structuredData` may be different\n   * from that of returned list `F[]`.\n   */\n  flattenNodes(structuredData: T[]): F[] {\n    const resultNodes: F[] = [];\n    structuredData.forEach(node => this.flattenNode(node, 0, resultNodes, []));\n    return resultNodes;\n  }\n\n  /**\n   * Expand flattened node with current expansion status.\n   * The returned list may have different length.\n   */\n  expandFlattenedNodes(nodes: F[], treeControl: TreeControl<F, K>): F[] {\n    const results: F[] = [];\n    const currentExpand: boolean[] = [];\n    currentExpand[0] = true;\n\n    nodes.forEach(node => {\n      let expand = true;\n      for (let i = 0; i <= this.getLevel(node); i++) {\n        expand = expand && currentExpand[i];\n      }\n      if (expand) {\n        results.push(node);\n      }\n      if (this.isExpandable(node)) {\n        currentExpand[this.getLevel(node) + 1] = treeControl.isExpanded(node);\n      }\n    });\n    return results;\n  }\n}\n\nexport class NzTreeFlatDataSource<T, F, K = F> extends DataSource<F> {\n  _flattenedData = new BehaviorSubject<F[]>([]);\n\n  _expandedData = new BehaviorSubject<F[]>([]);\n\n  _data: BehaviorSubject<T[]>;\n\n  constructor(private _treeControl: FlatTreeControl<F, K>, private _treeFlattener: NzTreeFlattener<T, F, K>, initialData: T[] = []) {\n    super();\n    this._data = new BehaviorSubject<T[]>(initialData);\n    this.flatNodes();\n  }\n\n  setData(value: T[]): void {\n    this._data.next(value);\n    this.flatNodes();\n  }\n\n  getData(): T[] {\n    return this._data.getValue();\n  }\n\n  connect(collectionViewer: CollectionViewer): Observable<F[]> {\n    const changes = [collectionViewer.viewChange, this._treeControl.expansionModel.changed, this._flattenedData];\n    return merge(...changes).pipe(\n      map(() => {\n        this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value, this._treeControl));\n        return this._expandedData.value;\n      })\n    );\n  }\n\n  disconnect(): void {\n    // no op\n  }\n\n  private flatNodes(): void {\n    this._flattenedData.next(this._treeFlattener.flattenNodes(this.getData()));\n    this._treeControl.dataNodes = this._flattenedData.value;\n  }\n}\n"],"mappings":"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"}